<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Aug 18 13:29:35 CST 2022 -->
<title>DidJSUpdateUiDuringFrameDetector (ReactAndroid 0.55.4 API)</title>
<meta name="date" content="2022-08-18">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DidJSUpdateUiDuringFrameDetector (ReactAndroid 0.55.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/facebook/react/modules/debug/AnimationsDebugModule.html" title="com.facebook.react.modules.debug中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../com/facebook/react/modules/debug/FpsDebugFrameCallback.html" title="com.facebook.react.modules.debug中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html" target="_top">框架</a></li>
<li><a href="DidJSUpdateUiDuringFrameDetector.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.facebook.react.modules.debug</div>
<h2 title="类 DidJSUpdateUiDuringFrameDetector" class="title">类 DidJSUpdateUiDuringFrameDetector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.facebook.react.modules.debug.DidJSUpdateUiDuringFrameDetector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有已实现的接口:</dt>
<dd><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html" title="com.facebook.react.bridge中的接口">NotThreadSafeBridgeIdleDebugListener</a>, <a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html" title="com.facebook.react.uimanager.debug中的接口">NotThreadSafeViewHierarchyUpdateDebugListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">DidJSUpdateUiDuringFrameDetector</span>
extends java.lang.Object
implements <a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html" title="com.facebook.react.bridge中的接口">NotThreadSafeBridgeIdleDebugListener</a>, <a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html" title="com.facebook.react.uimanager.debug中的接口">NotThreadSafeViewHierarchyUpdateDebugListener</a></pre>
<div class="block">Debug object that listens to bridge busy/idle events and UiManagerModule dispatches and uses it
 to calculate whether JS was able to update the UI during a given frame. After being installed
 on a <a href="../../../../../com/facebook/react/bridge/ReactBridge.html" title="com.facebook.react.bridge中的类"><code>ReactBridge</code></a> and a <a href="../../../../../com/facebook/react/uimanager/UIManagerModule.html" title="com.facebook.react.uimanager中的类"><code>UIManagerModule</code></a>,
 <a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#getDidJSHitFrameAndCleanup-long-long-"><code>getDidJSHitFrameAndCleanup(long, long)</code></a> should be called once per frame via a
 <code>ChoreographerCompat.FrameCallback</code>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#DidJSUpdateUiDuringFrameDetector--">DidJSUpdateUiDuringFrameDetector</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#getDidJSHitFrameAndCleanup-long-long-">getDidJSHitFrameAndCleanup</a></span>(long&nbsp;frameStartTimeNanos,
                          long&nbsp;frameEndTimeNanos)</code>
<div class="block">Designed to be called from a <code>ChoreographerCompat.FrameCallback#doFrame</code> call.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#onTransitionToBridgeBusy--">onTransitionToBridgeBusy</a></span>()</code>
<div class="block">Called when the bridge was in an idle state and executes a JS call or callback.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#onTransitionToBridgeIdle--">onTransitionToBridgeIdle</a></span>()</code>
<div class="block">Called once all pending JS calls have resolved via an onBatchComplete call in the bridge and
 the requested native module calls have also run.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#onViewHierarchyUpdateEnqueued--">onViewHierarchyUpdateEnqueued</a></span>()</code>
<div class="block">Called when <a href="../../../../../com/facebook/react/uimanager/UIManagerModule.html" title="com.facebook.react.uimanager中的类"><code>UIManagerModule</code></a> enqueues a UI batch to be dispatched to the main thread.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#onViewHierarchyUpdateFinished--">onViewHierarchyUpdateFinished</a></span>()</code>
<div class="block">Called from the main thread after a UI batch has been applied to all root views.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="DidJSUpdateUiDuringFrameDetector--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DidJSUpdateUiDuringFrameDetector</h4>
<pre>public&nbsp;DidJSUpdateUiDuringFrameDetector()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="onTransitionToBridgeIdle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTransitionToBridgeIdle</h4>
<pre>public&nbsp;void&nbsp;onTransitionToBridgeIdle()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html#onTransitionToBridgeIdle--">NotThreadSafeBridgeIdleDebugListener</a></code></span></div>
<div class="block">Called once all pending JS calls have resolved via an onBatchComplete call in the bridge and
 the requested native module calls have also run. The bridge will not become busy again until
 a timer, touch event, etc. causes a Java->JS call to be enqueued again.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html#onTransitionToBridgeIdle--">onTransitionToBridgeIdle</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html" title="com.facebook.react.bridge中的接口">NotThreadSafeBridgeIdleDebugListener</a></code></dd>
</dl>
</li>
</ul>
<a name="onTransitionToBridgeBusy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTransitionToBridgeBusy</h4>
<pre>public&nbsp;void&nbsp;onTransitionToBridgeBusy()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html#onTransitionToBridgeBusy--">NotThreadSafeBridgeIdleDebugListener</a></code></span></div>
<div class="block">Called when the bridge was in an idle state and executes a JS call or callback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html#onTransitionToBridgeBusy--">onTransitionToBridgeBusy</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../com/facebook/react/bridge/NotThreadSafeBridgeIdleDebugListener.html" title="com.facebook.react.bridge中的接口">NotThreadSafeBridgeIdleDebugListener</a></code></dd>
</dl>
</li>
</ul>
<a name="onViewHierarchyUpdateEnqueued--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onViewHierarchyUpdateEnqueued</h4>
<pre>public&nbsp;void&nbsp;onViewHierarchyUpdateEnqueued()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html#onViewHierarchyUpdateEnqueued--">NotThreadSafeViewHierarchyUpdateDebugListener</a></code></span></div>
<div class="block">Called when <a href="../../../../../com/facebook/react/uimanager/UIManagerModule.html" title="com.facebook.react.uimanager中的类"><code>UIManagerModule</code></a> enqueues a UI batch to be dispatched to the main thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html#onViewHierarchyUpdateEnqueued--">onViewHierarchyUpdateEnqueued</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html" title="com.facebook.react.uimanager.debug中的接口">NotThreadSafeViewHierarchyUpdateDebugListener</a></code></dd>
</dl>
</li>
</ul>
<a name="onViewHierarchyUpdateFinished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onViewHierarchyUpdateFinished</h4>
<pre>public&nbsp;void&nbsp;onViewHierarchyUpdateFinished()</pre>
<div class="block"><span class="descfrmTypeLabel">从接口复制的说明:&nbsp;<code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html#onViewHierarchyUpdateFinished--">NotThreadSafeViewHierarchyUpdateDebugListener</a></code></span></div>
<div class="block">Called from the main thread after a UI batch has been applied to all root views.</div>
<dl>
<dt><span class="overrideSpecifyLabel">指定者:</span></dt>
<dd><code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html#onViewHierarchyUpdateFinished--">onViewHierarchyUpdateFinished</a></code>&nbsp;在接口中&nbsp;<code><a href="../../../../../com/facebook/react/uimanager/debug/NotThreadSafeViewHierarchyUpdateDebugListener.html" title="com.facebook.react.uimanager.debug中的接口">NotThreadSafeViewHierarchyUpdateDebugListener</a></code></dd>
</dl>
</li>
</ul>
<a name="getDidJSHitFrameAndCleanup-long-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDidJSHitFrameAndCleanup</h4>
<pre>public&nbsp;boolean&nbsp;getDidJSHitFrameAndCleanup(long&nbsp;frameStartTimeNanos,
                                          long&nbsp;frameEndTimeNanos)</pre>
<div class="block">Designed to be called from a <code>ChoreographerCompat.FrameCallback#doFrame</code> call.

 There are two 'success' cases that will cause <a href="../../../../../com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html#getDidJSHitFrameAndCleanup-long-long-"><code>getDidJSHitFrameAndCleanup(long, long)</code></a> to
 return true for a given frame:

 1) UIManagerModule finished dispatching a batched UI update on the UI thread during the frame.
    This means that during the next hierarchy traversal, new UI will be drawn if needed (good).
 2) The bridge ended the frame idle (meaning there were no JS nor native module calls still in
    flight) AND there was no UiManagerModule update enqueued that didn't also finish. NB: if
    there was one enqueued that actually finished, we'd have case 1), so effectively we just
    look for whether one was enqueued.

 NB: This call can only be called once for a given frame time range because it cleans up
 events it recorded for that frame.

 NB2: This makes the assumption that onViewHierarchyUpdateEnqueued is called from the
 <a href="../../../../../com/facebook/react/uimanager/UIManagerModule.html#onBatchComplete--"><code>UIManagerModule.onBatchComplete()</code></a>, e.g. while the bridge is still considered busy,
 which means there is no race condition where the bridge has gone idle but a hierarchy update is
 waiting to be enqueued.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>frameStartTimeNanos</code> - the time in nanos that the last frame started</dd>
<dd><code>frameEndTimeNanos</code> - the time in nanos that the last frame ended</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/facebook/react/modules/debug/AnimationsDebugModule.html" title="com.facebook.react.modules.debug中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../com/facebook/react/modules/debug/FpsDebugFrameCallback.html" title="com.facebook.react.modules.debug中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/facebook/react/modules/debug/DidJSUpdateUiDuringFrameDetector.html" target="_top">框架</a></li>
<li><a href="DidJSUpdateUiDuringFrameDetector.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
